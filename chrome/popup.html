<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PoliteGPT</title>
  <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <div class="popup-root">
    <header class="sky-header" role="banner">
      <!-- sky: gradient, sun, clouds -->
      <div class="sky-decor">
        <svg class="sun" viewBox="0 0 64 64" aria-hidden="true"><circle cx="32" cy="20" r="10" fill="#FFD36B"/></svg>
        <svg class="cloud cloud-1" viewBox="0 0 64 32" aria-hidden="true">
          <path d="M10 20c-6 0-10-6-6-10 2-2 6-2 8 0 2-4 8-6 12-2 4 4 2 10-4 12H10z" fill="#ffffff" opacity="0.95"/>
        </svg>
        <svg class="cloud cloud-2" viewBox="0 0 64 32" aria-hidden="true">
          <path d="M6 18c-4 0-6-4-3-7 1-2 4-2 6 0 1-3 6-5 9-2 3 3 1 8-3 9H6z" fill="#ffffff" opacity="0.95"/>
        </svg>
      </div>

      <!-- title + avatar -->
      <div class="header-row">
        <div class="title-block">
          <h1>PoliteGPT</h1>
          <small class="subtitle">Kindness meter for your chats üå§Ô∏è</small>
        </div>

        <!-- avatar (SVG) -->
        <div class="avatar-wrap" aria-hidden="true">
          <!-- smiling speech-bubble mascot -->
          <svg class="avatar" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" role="img">
            <defs>
              <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
                <stop offset="0" stop-color="#6CCAFF"/>
                <stop offset="1" stop-color="#7BE28C"/>
              </linearGradient>
            </defs>

            <!-- rounded speech bubble -->
            <path d="M15 20 Q15 8 28 8 L92 8 Q105 8 105 20 L105 72 Q105 84 92 84 L52 84 L40 96 Q35 100 30 96 L26 92 Q20 88 18 82 L18 24 Q18 22 15 20 Z"
              fill="url(#g)" stroke="#2c9bd8" stroke-width="2"/>

            <!-- eyes -->
            <circle cx="45" cy="44" r="5" fill="#fff"/>
            <circle cx="75" cy="44" r="5" fill="#fff"/>
            <circle cx="45" cy="44" r="2.4" fill="#06445A"/>
            <circle cx="75" cy="44" r="2.4" fill="#06445A"/>

            <!-- smile -->
            <path d="M44 60 Q60 72 76 60" fill="none" stroke="#063D46" stroke-linecap="round" stroke-width="3"/>

            <!-- little heart sparkle -->
            <path d="M86 26c0-2 1-4 3-4 2 0 3 2 3 4 0 2-1 4-3 5-2-1-3-3-3-5z" fill="#FFD36B" opacity="0.95"/>
          </svg>
        </div>
      </div>
    </header>

    <main class="panel">
      <section class="controls">
        <label class="switch">
          <input id="enabledToggle" type="checkbox" />
          <span class="slider"></span>
        </label>
        <div class="toggle-label">Filter enabled</div>
      </section>

      <section class="threshold">
        <div class="threshold-row">
          <label for="thresholdRange">Politeness threshold</label>
          <button id="infoBtn" title="Examples">‚ÑπÔ∏è</button>
        </div>
        <input id="thresholdRange" type="range" min="0" max="100" value="60" />
        <div class="threshold-value">Current: <span id="thresholdValue">60</span></div>
      </section>

      <section class="stats">
        <div class="stat-card">
          <div class="label">Allowed</div>
          <div id="allowedCount" class="value">0</div>
        </div>
        <div class="stat-card">
          <div class="label">Blocked</div>
          <div id="blockedCount" class="value">0</div>
        </div>
        <div class="stat-card wide">
          <div class="label">Avg score</div>
          <div id="avgScore" class="value">0</div>
        </div>
      </section>

      <section class="history">
        <h2>Recent messages</h2>
        <div id="historyList" class="history-list">No messages yet.</div>
      </section>

      <section class="actions">
        <button id="clearBtn" class="btn">Clear logs</button>
      </section>

      <footer>
        <small>Local only ‚Äî kept on this device.</small>
      </footer>
    </main>
  </div>

  <!-- Info modal -->
  <div id="infoModal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <button id="closeModal" class="close">‚úï</button>
      <h3>Politeness examples</h3>
      <p><strong>Perfect politeness (example)</strong></p>
      <div id="perfectExample" class="example"></div>
      <p><strong>Worst politeness (example)</strong></p>
      <div id="worstExample" class="example"></div>
      <p class="muted">Scores are computed by the same meter used to gate sends. Adjust the threshold to tune strictness.</p>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
